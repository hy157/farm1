<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Tarƒ±m Oyunu - Buƒüday & √áilek</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <style>
    html, body { width:100vw; height:100vh; margin:0; padding:0; overscroll-behavior:none; touch-action:manipulation; background: #4ecb36;}
    body { font-family:'Segoe UI',Arial,sans-serif; user-select:none; overflow:hidden;}
    #game-container { position:fixed; left:0; top:0; width:100vw; height:100vh; overflow:hidden; z-index:1; background:transparent; touch-action:none; display:flex; flex-direction:column; align-items:center; justify-content:flex-end;}
    #toolbar { position:absolute; bottom:2vw; left:0; width:100vw; z-index:10; display:flex; justify-content:center; align-items:flex-end; gap:4vw; padding-bottom:0.5rem; pointer-events:none;}
    .tool-btn { font-size:7vw; padding:2vw 6vw; border:none; border-radius:2.5vw; cursor:pointer; background:#fff9; margin:0; box-shadow:0 2px 8px #0002; outline:3px solid transparent; transition:outline 0.2s, background 0.18s, transform 0.18s; min-width:17vw; min-height:10vw; pointer-events:auto; font-weight:bold; letter-spacing:0.5px; -webkit-tap-highlight-color:transparent; touch-action:manipulation;}
    .tool-btn.active { outline:3px solid #13bb18; background:#baffc9; transform:scale(1.1);}
    .status-bars { position:absolute; top:1vw; left:0; width:100vw; z-index:20; display:flex; justify-content:center; gap:3vw; pointer-events:none; flex-wrap:wrap;}
    .status-bar { background:#fff8; padding:2vw 4vw 2vw 3vw; border-radius:2vw; font-size:5vw; box-shadow:0 2px 8px #0002; display:flex; align-items:center; font-weight:bold; gap:2vw; min-width:18vw; min-height:7vw; user-select:none; height:10vw; pointer-events:auto; margin-bottom:1vw;}
    #wheat-price-bar, #strawberry-price-bar { background:#ffe7aaee; border:2px solid #ffb60066; cursor:pointer; transition:box-shadow 0.2s, background 0.2s; font-size:5vw; min-width:22vw;}
    #wheat-price-bar:active, #strawberry-price-bar:active { box-shadow:0 2px 16px #ffa60055; background:#ffefb3;}
    .money-gain #money-amount { color:#09c517; transform:scale(1.15);}
    .money-lose #money-amount { color:#d62424; transform:scale(0.9);}
    .price-gain .price-amount { color:#1a9701; transform:scale(1.18);}
    .price-sell .price-amount { color:#ff1b1b; transform:scale(1.25);}
    .price-amount { font-family:monospace; font-size:5vw; color:#c38307; transition:color 0.2s, transform 0.2s;}
    #wheat-price-label, #strawberry-price-label { font-size:3vw; color:#9a7e00;}
    .crop-icon { width:8vw; height:8vw; object-fit:contain; margin-right:2vw; user-select:none; pointer-events:none;}
    #game-area, #strawberry-area { position:absolute; left:0; top:0; width:100vw; height:100vh; cursor:default; user-select:none; z-index:2; touch-action:none; display:block;}
    .iso-plot { position:absolute; width:256px; height:172px; transform:translate(-50%, -50%); pointer-events:none; transition:filter 0.1s; will-change:transform,filter,opacity; z-index:2;}
    .iso-crop { position:absolute; width:256px; height:172px; pointer-events:none; left:0; top:0; transform:translate(-50%, -50%); z-index:22; will-change:transform,filter,opacity;}
    .money-float { position:absolute; left:0; top:0; pointer-events:none; font-size:4vw; font-weight:bold; opacity:1; z-index:99; transition:opacity 0.15s; will-change:transform, opacity; user-select:none;}
    .money-gain { color:#11c90e; text-shadow:0 1px 4px #fff8,0 0 2px #45ff42;}
    .money-lose { color:#d62424; text-shadow:0 1px 4px #fff8,0 0 2px #ff6961;}
    #strawberry-page, #wheat-page {display:none;}
    #rotate-warning { display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; z-index:9999; background:#222c; color:#fff; font-size:7vw; text-align:center; justify-content:center; align-items:center; flex-direction:column; padding:0 5vw;}
    #rotate-warning.visible { display:flex;}
    #rotate-warning .icon { font-size:12vw; margin-bottom:3vw;}
    /* Ge√ßi≈ü butonlarƒ± */
    #go-strawberry-btn, #go-wheat-btn {
      position:fixed;
      right:4vw;
      bottom:14vw;
      z-index:999;
      background:linear-gradient(90deg,#fff 80%,#ffd0e6 120%);
      color:#e82e6e;
      border:none;
      border-radius:2vw;
      padding:2vw 7vw;
      font-size:5vw;
      font-weight:bold;
      box-shadow:0 4px 20px #e82e6e26,0 1px 5px #0001;
      cursor:pointer;
      letter-spacing:1px;
      transition:transform 0.12s, background 0.3s;
      display:flex;
      align-items:center;
      gap:1vw;
      outline: 3px solid #ffd0e6;
    }
    #go-wheat-btn {
      color:#3e99ea;
      background:linear-gradient(90deg,#fff 80%,#d6f6ff 120%);
      left:4vw; right:auto;
      outline: 3px solid #d6f6ff;
      box-shadow:0 4px 20px #3e99ea28,0 1px 5px #0001;
    }
    #go-strawberry-btn.disabled-btn {
      opacity:0.55;
      pointer-events:none;
      filter:grayscale(0.4) blur(0.6px);
    }
    #go-strawberry-btn .btn-emoji,
    #go-wheat-btn .btn-emoji {
      font-size:6vw;
      filter: drop-shadow(1px 2px 3px #0001);
    }
    #go-strawberry-btn:hover, #go-wheat-btn:hover {
      transform:scale(1.07) rotate(-2deg);
      box-shadow:0 6px 24px #e82e6e36,0 1px 7px #0002;
    }
    #go-wheat-btn:hover {
      box-shadow:0 6px 24px #3e99ea36,0 1px 7px #0002;
    }
  </style>
</head>
<body>
<audio id="sound-coin" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa4f88.mp3"></audio>
<audio id="sound-pay" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115bfae13d.mp3"></audio>

<div id="wheat-page">
  <div id="game-container">
    <div id="game-area"></div>
    <button id="go-strawberry-btn" class="disabled-btn">
      <span class="btn-emoji">üçì</span> <span>√áilek Tarlasƒ±na</span> <span class="btn-emoji">‚û°Ô∏è</span>
    </button>
  </div>
  <div class="status-bars">
    <div class="status-bar" id="money-bar"><span style="font-size: 1.2em;">üí∞</span> <span id="money-amount">1000</span></div>
    <div class="status-bar" id="wheat-price-bar" title="Elindeki fazla buƒüdayƒ± sat">
      <img class="crop-icon" id="wheat-price-icon" src="img/wheat.webp" alt="Buƒüday">
      <span class="price-amount" id="wheat-price-amount">10</span>
      <span id="wheat-price-label"></span>
    </div>
    <div class="status-bar" id="wheat-bar">
      <img class="crop-icon" id="wheat-icon" src="img/wheat.webp" alt="Buƒüday">
      <span id="wheat-amount">100</span>
    </div>
  </div>
  <div id="toolbar">
    <button id="pickaxe-btn" class="tool-btn" aria-label="Kaz">‚õèÔ∏è</button>
    <button id="wheat-btn" class="tool-btn" aria-label="Ekin ek">üåæ</button>
    <button id="sickle-btn" class="tool-btn" aria-label="Bi√ß">‚úÇÔ∏è</button>
    <button id="remove-btn" class="tool-btn" aria-label="Sil">‚ùå</button>
  </div>
</div>

<div id="strawberry-page">
  <div id="game-container">
    <div id="strawberry-area"></div>
    <button id="go-wheat-btn">
      <span class="btn-emoji">üåæ</span> <span>Buƒüday Tarlasƒ±na</span> <span class="btn-emoji">‚û°Ô∏è</span>
    </button>
  </div>
  <div class="status-bars">
    <div class="status-bar" id="strawberry-money-bar"><span style="font-size: 1.2em;">üí∞</span> <span id="strawberry-money-amount">1000</span></div>
    <div class="status-bar" id="strawberry-price-bar" title="Elindeki fazla √ßileƒüi sat">
      <img class="crop-icon" id="strawberry-price-icon" src="img/Strawberry.png" alt="√áilek">
      <span class="price-amount" id="strawberry-price-amount">20</span>
      <span id="strawberry-price-label"></span>
    </div>
    <div class="status-bar" id="strawberry-bar">
      <img class="crop-icon" id="strawberry-icon" src="img/Strawberry.png" alt="√áilek">
      <span id="strawberry-amount">100</span>
    </div>
  </div>
  <div id="toolbar">
    <button id="strawberry-pickaxe-btn" class="tool-btn" aria-label="Kaz">‚õèÔ∏è</button>
    <button id="strawberry-btn" class="tool-btn" aria-label="√áilek ek"><img src="img/Strawberry.png" style="width:7vw;height:7vw;vertical-align:middle;"></button>
    <button id="strawberry-sickle-btn" class="tool-btn" aria-label="√áilek bi√ß">‚úÇÔ∏è</button>
    <button id="strawberry-remove-btn" class="tool-btn" aria-label="Sil">‚ùå</button>
  </div>
</div>

<div id="rotate-warning">
  <div class="icon">üîÑ</div>
  L√ºtfen ekranƒ± <b>Dikey</b> moda √ßevirin<br>
  <small>(Oyun sadece dikey oynanƒ±r)</small>
</div>

<script>
// ...T√ºm kod yukarƒ±da verdiƒüimle aynƒ± kalsƒ±n...

// DEƒûƒ∞≈ûƒ∞KLƒ∞K: Bu satƒ±rƒ± ekle
let strawberryPageUnlocked = false;

// √áilek tarlasƒ±na ge√ßi≈ü kodu:
goStrawberryBtn.addEventListener('click', ()=>{
  if(!strawberryPageUnlocked && money >= 10000 && wheat >= 300) {
    money -= 10000;
    wheat -= 300;
    updateMoneyBar('lose');
    updateWheatBar();
    strawberryMoney = money;
    strawberry = 100;
    strawberryPageUnlocked = true; // Artƒ±k hep ge√ßebilirsin!
    showPage('strawberry');
    updateStrawberryMoneyBar();
    updateStrawberryBar();
    updateStrawberryPriceBar();
    redrawAllStrawberryPlots();
    updateGoStrawberryBtn();
  }
  // Eƒüer zaten a√ßƒ±ldƒ±ysa direkt ge√ß
  else if(strawberryPageUnlocked) {
    strawberryMoney = money;
    showPage('strawberry');
    updateStrawberryMoneyBar();
    updateStrawberryBar();
    updateStrawberryPriceBar();
    redrawAllStrawberryPlots();
    updateGoStrawberryBtn();
  }
});

// Buƒüdaya d√∂n√ºnce butonu her zaman aktif bƒ±rak:
function updateGoStrawberryBtn() {
  if(strawberryPageUnlocked || (money >= 10000 && wheat >= 300)) {
    goStrawberryBtn.classList.remove('disabled-btn');
    goStrawberryBtn.disabled = false;
  } else {
    goStrawberryBtn.classList.add('disabled-btn');
    goStrawberryBtn.disabled = true;
  }
}

goWheatBtn.addEventListener('click', ()=>{
  // Geri d√∂n√º≈üte gereksinim yok, direkt ge√ß!
  money = strawberryMoney;
  showPage('wheat');
  updateMoneyBar();
  updateWheatBar();
  updateWheatPriceBar();
  redrawAllPlots();
  updateGoStrawberryBtn();
});

// ...Geri kalan kodun tamamƒ± olduƒüu gibi devam etsin...
</script>
</body>
</html>
